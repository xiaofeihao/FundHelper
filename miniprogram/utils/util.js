"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function formatTime(date) {
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    var second = date.getSeconds();
    return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute, second].map(formatNumber).join(':');
}
exports.formatTime = formatTime;
var formatNumber = function (n) {
    var str = n.toString();
    return str[1] ? str : '0' + str;
};
function isBookInfoAvailable(book) {
    if (!confirmStrLength(book.title)) {
        return getErroMessage(book.title, "书名");
    }
    else if (!confirmStrLength(book.frontImage)) {
        return getErroMessage("", "书籍图片");
    }
    else if (!confirmStrLength(book.author)) {
        return getErroMessage(book.author, "书籍作者");
    }
    else if (book.totalPages <= 0) {
        return getErroMessage("", "书籍总页数");
    }
    else if (!confirmStrLength(book.readReason)) {
        return getErroMessage(book.readReason, "读书初心");
    }
    return "";
}
exports.isBookInfoAvailable = isBookInfoAvailable;
var confirmStrLength = function (str) {
    if (!str) {
        return false;
    }
    else {
        var tempStr = str.replace(/\s+/g, "");
        if (tempStr.length === 0) {
            return false;
        }
    }
    return true;
};
var getErroMessage = function (str, prefix) {
    if (str) {
        return prefix + "“" + str + "”不符合要求";
    }
    else {
        return prefix + "不能为空";
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxTQUFnQixVQUFVLENBQUMsSUFBVTtJQUNuQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUE7SUFDL0IsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUNqQyxJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDMUIsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFBO0lBQzVCLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQTtJQUNoQyxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7SUFFaEMsT0FBTyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDbEgsQ0FBQztBQVRELGdDQVNDO0FBRUQsSUFBTSxZQUFZLEdBQUcsVUFBQyxDQUFTO0lBQzdCLElBQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQTtJQUN4QixPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFBO0FBQ2pDLENBQUMsQ0FBQTtBQUVELFNBQWdCLG1CQUFtQixDQUFFLElBQVU7SUFFN0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNqQyxPQUFPLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ3pDO1NBQU0sSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRTtRQUM3QyxPQUFPLGNBQWMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDbkM7U0FBTSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ3pDLE9BQU8sY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDNUM7U0FBTSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxFQUFFO1FBQy9CLE9BQU8sY0FBYyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztLQUNwQztTQUFNLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUU7UUFDN0MsT0FBTyxjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztLQUNoRDtJQUNELE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQztBQWRELGtEQWNDO0FBRUQsSUFBTSxnQkFBZ0IsR0FBRyxVQUFDLEdBQVc7SUFDbkMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7U0FBTTtRQUNMLElBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3RDLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDeEIsT0FBTyxLQUFLLENBQUM7U0FDZDtLQUNGO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUE7QUFFRCxJQUFNLGNBQWMsR0FBRyxVQUFDLEdBQVcsRUFBRSxNQUFjO0lBQ2pELElBQUksR0FBRyxFQUFFO1FBQ1AsT0FBTyxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxRQUFRLENBQUM7S0FDdEM7U0FBTTtRQUNMLE9BQU8sTUFBTSxHQUFHLE1BQU0sQ0FBQztLQUN4QjtBQUNILENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvb2sgfSBmcm9tICcuLi9kYXRhL2RhdGFNb2RlbCdcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpbWUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKClcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxXG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpXG4gIGNvbnN0IGhvdXIgPSBkYXRlLmdldEhvdXJzKClcbiAgY29uc3QgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKClcbiAgY29uc3Qgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKClcblxuICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLm1hcChmb3JtYXROdW1iZXIpLmpvaW4oJy8nKSArICcgJyArIFtob3VyLCBtaW51dGUsIHNlY29uZF0ubWFwKGZvcm1hdE51bWJlcikuam9pbignOicpXG59XG5cbmNvbnN0IGZvcm1hdE51bWJlciA9IChuOiBudW1iZXIpID0+IHtcbiAgY29uc3Qgc3RyID0gbi50b1N0cmluZygpXG4gIHJldHVybiBzdHJbMV0gPyBzdHIgOiAnMCcgKyBzdHJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQm9va0luZm9BdmFpbGFibGUgKGJvb2s6IEJvb2spOiBzdHJpbmcge1xuICAvLyDmo4Dmn6XkuablkI1cbiAgaWYgKCFjb25maXJtU3RyTGVuZ3RoKGJvb2sudGl0bGUpKSB7XG4gICAgcmV0dXJuIGdldEVycm9NZXNzYWdlKGJvb2sudGl0bGUsIFwi5Lmm5ZCNXCIpO1xuICB9IGVsc2UgaWYgKCFjb25maXJtU3RyTGVuZ3RoKGJvb2suZnJvbnRJbWFnZSkpIHtcbiAgICByZXR1cm4gZ2V0RXJyb01lc3NhZ2UoXCJcIiwgXCLkuabnsY3lm77niYdcIik7XG4gIH0gZWxzZSBpZiAoIWNvbmZpcm1TdHJMZW5ndGgoYm9vay5hdXRob3IpKSB7XG4gICAgcmV0dXJuIGdldEVycm9NZXNzYWdlKGJvb2suYXV0aG9yLCBcIuS5puexjeS9nOiAhVwiKTtcbiAgfSBlbHNlIGlmIChib29rLnRvdGFsUGFnZXMgPD0gMCkge1xuICAgIHJldHVybiBnZXRFcnJvTWVzc2FnZShcIlwiLCBcIuS5puexjeaAu+mhteaVsFwiKTtcbiAgfSBlbHNlIGlmICghY29uZmlybVN0ckxlbmd0aChib29rLnJlYWRSZWFzb24pKSB7XG4gICAgcmV0dXJuIGdldEVycm9NZXNzYWdlKGJvb2sucmVhZFJlYXNvbiwgXCLor7vkuabliJ3lv4NcIik7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmNvbnN0IGNvbmZpcm1TdHJMZW5ndGggPSAoc3RyOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgaWYgKCFzdHIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHRlbXBTdHIgPSBzdHIucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcbiAgICBpZiAodGVtcFN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IGdldEVycm9NZXNzYWdlID0gKHN0cjogc3RyaW5nLCBwcmVmaXg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGlmIChzdHIpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgXCLigJxcIiArIHN0ciArIFwi4oCd5LiN56ym5ZCI6KaB5rGCXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByZWZpeCArIFwi5LiN6IO95Li656m6XCI7XG4gIH1cbn1cbiJdfQ==